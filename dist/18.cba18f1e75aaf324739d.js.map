{"version":3,"file":"18.cba18f1e75aaf324739d.js","sources":["webpack:///./src/components/MessagesContainer.js"],"sourcesContent":["import React from 'react'\r\nimport Message from './Message'\r\n\r\nclass MessagesContainer extends React.Component {\r\n\r\n    state = {\r\n        atBottom: false,\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.props.subscribeToNewMessages()\r\n    }\r\n\r\n    handleScroll = (e) => {\r\n        const el = e.target\r\n        if(el.offsetHeight + el.scrollTop >= el.scrollHeight - 100 && this.props.networkStatus !== 3 && this.state.atBottom === false){\r\n            this.setState({atBottom: true})\r\n            if(this.props.nextToken) this.props.fetchMore(this.props.nextToken)\r\n        }\r\n        else if(el.offsetHeight + el.scrollTop <= el.scrollHeight - 100 && this.props.networkStatus !== 3 && this.state.atBottom === true){\r\n            this.setState({atBottom: false})\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {messages} = this.props\r\n        return(\r\n            <div \r\n                onScroll={this.handleScroll}\r\n                style={{flex: '30', padding: '0 10px', overflowY: 'auto', display: 'flex', flexDirection: 'column', alignItems: 'flex-end', minHeight: '0'}}\r\n            >\r\n              {messages.map(message => (\r\n                <Message\r\n                  key={message.createdAt}\r\n                  createdAt={message.createdAt}\r\n                  username={message.username}\r\n                >\r\n                  {message.content}\r\n                </Message>\r\n              ))}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MessagesContainer"],"mappings":"AAAA","sourceRoot":""}